<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
</head>
<body>
  <form action="/qna/update" method="post" enctype="multipart/form-data">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
    <input type="hidden" th:name="qna_no" th:value="${q.qna_no}">
    <input type="hidden" name="qna_fname" th:value="${q.qna_fname}">
    <input type="hidden" name="customer" th:value="${q.customer}">

    <select name="qna_category" id="select_category" required>
      <option value="예매/드로우"
              th:attr="selected=${q.qna_category == '예매/드로우' ? 'true' : 'false'}">예매/드로우</option>
      <option value="결제/환불"
              th:attr="selected=${q.qna_category == '결제/환불' ? 'true' : 'false'}">결제/환불</option>
      <option value="기타"
              th:attr="selected=${q.qna_category == '기타' ? 'true' : 'false'}">기타</option>
    </select>
    <br>
    <input name="qna_title" placeholder="제목" th:value="${q.qna_title}" required><br>
    <textarea name="qna_content" placeholder="내용" th:text="${q.qna_content}" rows="5" cols="50" required></textarea>
    <br>
    <input type="file" name="uploadFile"><br>
    <input type="radio" id="y" name="qna_open" value="y" required
           th:attr="checked=${q.qna_open == 'y' ? 'true' : 'false'}">
    <label for="y">공개</label>
    <input type="radio" id="n" name="qna_open" value="n"
           th:attr="checked=${q.qna_open == 'n' ? 'true' : 'false'}">
    <label for="n">비공개</label><br>
    <select name="ticketid" id="select_ticket" required>
      <option value="0">해당 없음</option>
      <option th:each="ticketVO:${ticketVOList}"
              th:text="|[${ticketVO.ticket_date}]${ticketVO.ticket_name}(${ticketVO.loc})|"
              th:value="${ticketVO.ticketid}"
              th:attr="selected=${q.ticket.ticketid == ticketVO.ticketid ? 'true' : 'false'}"></option>
    </select><br>
    <input type="submit" value="등록">
  </form>
</body>
</html>